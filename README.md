# lambda-transcribe

## OverView
s3に格納された特定のテキストファイルを対象に単語の検索を行います。

## Description
※説明ドキュメントを含みます。

実行環境：
- 言語：Javascript(Node.js 14)
- 環境：API gateway + Lambda
    - すみません、指定があったことを失念していました。
    - 簡易的なプログラムになる想定だったのでテストしやすく動かしやすい環境を選びました。
- 使用したAPI：
    - Amazon Transcribe
    - Amazon s3


前提：特になし

コンパイル方法：特になし

実行準備：特になし

実行方法：ChromeなどのブラウザのURLにURLを貼り付けてリクエストを送ります。Postmanなどでも可能です。

リクエスト例：
```angular2html
https://svw54ktrwb.execute-api.ap-northeast-1.amazonaws.com/dev/transcribe?word1=音声
```

レスポンス例：
- word: 検索した単語
- around: 検索した単語の前後5文字を含む文字列
- where: テキストの開始位置から何文字目に検索した単語が現れるかを表示
- text: 検索対象のテキスト
```json
  {
    "words1": {
      "word":"音声",
      "around0":"音声 認識 の",
      "where0":"0 words from beginning.",
      "around1":" で は 音声 認識 で",
      "where1":"47 words from beginning."
    },
    "text":"音声 認識 の 現状 について 教え て いただけ ない でしょ う か はい 最近 で は 音声 認識 で も ディープ ラーニング が よく 使わ れ て い ます ね これ は どう いっ た もの な の？ でしょ う か 簡単 に 言え ば 脳 の 仕組み を モデル に し た 技術 です これ は 難し そう です ね。 一部 で は 人間 の 能力 を 超える まで に なっ て い ます"
  }
```

### Functions
実現した機能一覧
- テキスト・データの加工と出力
    - 単語検索
        - 単語が見つかった位置
        - その単語
        - 単語及前後5文字を含む文字列の抽出
            - 10件まで検出が可能です。
        - 検索対象の指定
            - URLのパスパラメータで指定が可能です。
            - 一回のリクエストで最大3つまで単語の検索が可能です。
    - 出力
        テキスト出力
      
実現できなかった機能一覧
- 日本語音声データからテキスト・データへの変換

今回は事前にAmazon Transcribeをコンソールから操作し、日本語に書き起こされたものをテキスト化しs3に保存しています。
こちらのファイルをLambdaで取得し、そのテキストに対して単語検索をかけます。